<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Prof au tableau ‚Äî D√©mo+</title>
  <style>
    :root{
      --bg:#eae7df;        /* mur */
      --floor:#c7a57a;     /* sol bois */
      --base:#b48b60;      /* plinthe */
      --board:#0f3a2a;     /* vert tableau */
      --chalk:#f7f7f7;     /* craie */
      --wood:#885d33;      /* cadre tableau */
      --accent:#2563eb;    /* boutons */
      --shadow:rgba(0,0,0,.18);
    }
    *{box-sizing:border-box}
    body{margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Arial; color:#111827; background:var(--bg);}

    /* ====== D√©cor de salle de classe ====== */
    .classroom{
      position:relative; min-height:100dvh; padding:28px 24px 48px;
      background:
        radial-gradient(1200px 500px at right -200px top -100px, rgba(255,255,255,.6), transparent),
        radial-gradient(800px 400px at left -200px top 40px, rgba(0,0,0,.05), transparent),
        var(--bg);
      overflow-x:hidden;
    }
    .baseboard{position:absolute; left:0; right:0; bottom:160px; height:12px; background:var(--base); box-shadow:0 -2px 0 rgba(0,0,0,.08) inset}
    .floor{position:absolute; left:0; right:0; bottom:0; height:160px; background:
      linear-gradient(0deg, rgba(0,0,0,.06), rgba(0,0,0,0) 40%),
      repeating-linear-gradient(90deg, rgba(0,0,0,.08) 0 1px, transparent 1px 120px),
      var(--floor);
      box-shadow: inset 0 10px 30px rgba(0,0,0,.18);
      transform: perspective(800px) rotateX(6deg); transform-origin:bottom;
    }
    .window{
      position:absolute; right:32px; top:28px; width:220px; height:140px; border:10px solid #d6d3ce; border-radius:8px; overflow:hidden; box-shadow:0 8px 24px var(--shadow);
      background:linear-gradient(#9ed0ff,#bfe3ff);
    }
    .cloud{position:absolute; top:30px; left:-60px; width:120px; height:36px; background:#fff; border-radius:18px; filter:blur(.3px); opacity:.9; animation:cloud 18s linear infinite}
    .cloud::before,.cloud::after{content:""; position:absolute; background:#fff; border-radius:50%}
    .cloud::before{width:46px; height:46px; left:12px; top:-16px}
    .cloud::after{width:36px; height:36px; right:8px; top:-12px}
    .cloud:nth-child(2){top:64px; animation-duration:26s; transform:scale(.9); opacity:.75}
    @keyframes cloud{to{left:260px}}

    .poster{position:absolute; left:28px; top:24px; width:120px; height:90px; background:conic-gradient(from 180deg at 60px 45px, #ffe194, #ffd18b, #ffd18b, #ffe194); border:8px solid #e8d9b8; border-radius:6px; box-shadow:0 8px 20px var(--shadow)}
    .clock{position:absolute; left:170px; top:18px; width:64px; height:64px; background:#fff; border:6px solid #e6e6e6; border-radius:50%; box-shadow:0 6px 14px var(--shadow)}
    .clock::before{content:""; position:absolute; inset:50% auto auto 50%; width:3px; height:18px; background:#111; transform-origin:bottom; transform:translate(-50%) rotate(40deg)}
    .clock::after{content:""; position:absolute; inset:50% auto auto 50%; width:2px; height:24px; background:#111; transform-origin:bottom; transform:translate(-50%) rotate(180deg)}

    /* ====== Mise en page ====== */
    .wrap{position:relative; max-width:1100px; margin:0 auto; display:grid; grid-template-columns:340px 1fr; gap:28px; align-items:center}
    @media (max-width:940px){ .wrap{grid-template-columns:1fr; gap:18px} }

    /* ====== Tableau ====== */
    .board-wrap{position:relative; border:14px solid var(--wood); border-radius:14px; overflow:hidden; background:var(--board); box-shadow:0 18px 40px var(--shadow)}
    .board{position:relative; height:clamp(260px, 42vw, 460px); padding:22px 26px 28px; background:
      repeating-linear-gradient(180deg, rgba(255,255,255,.06) 0 2px, transparent 2px 32px), var(--board);
    }
    #boardText{font-family:"Patrick Hand", "Comic Sans MS", system-ui, sans-serif; color:var(--chalk); font-size:clamp(20px,2.6vw,32px); line-height:1.35; white-space:pre-wrap; text-shadow:0 1px 0 rgba(255,255,255,.08); min-height:2.6em}
    .cursor{display:inline-block; width:.5ch; height:1em; vertical-align:-.2em; background:currentColor; opacity:.85; margin-left:2px; animation:blink .9s steps(1) infinite}
    @keyframes blink{50%{opacity:0}}

    /* Poussi√®re de craie */
    .dust{position:absolute; width:6px; height:6px; border-radius:50%; background:rgba(255,255,255,.9); filter:blur(.5px); pointer-events:none; mix-blend-mode:screen; opacity:.9}

    /* ====== Prof ====== */
    .teacher{position:relative; width:300px; height:420px; margin:0 auto; perspective:800px}
    .teacher .shadow{position:absolute; left:40px; right:40px; bottom:8px; height:18px; background:radial-gradient(ellipse at center, rgba(0,0,0,.25), transparent 60%); filter:blur(6px); opacity:.35}
    .body{position:absolute; left:78px; top:150px; width:140px; height:180px; border-radius:22px; background:linear-gradient(180deg,#4f7bf7,#2a55da)}
    .head{position:absolute; left:120px; top:70px; width:96px; height:96px; border-radius:50%; background:#f6d2b5}
    .eye{position:absolute; width:12px; height:12px; border-radius:50%; background:#222; top:30px}
    .eye.left{left:26px} .eye.right{right:26px}
    .brow{position:absolute; top:18px; width:24px; height:4px; background:#222; border-radius:4px}
    .brow.left{left:20px; transform:rotate(-8deg)} .brow.right{right:20px; transform:rotate(8deg)}
    .mouth{position:absolute; left:32px; right:32px; bottom:18px; height:12px; border-radius:0 0 16px 16px; background:#e76f51}

    .arm{position:absolute; left:28px; top:210px; width:180px; height:28px; transform-origin:28px 14px;}
    .upperarm{position:absolute; left:0; top:6px; width:84px; height:16px; border-radius:8px; background:#f1c6a7}
    .forearm{position:absolute; left:72px; top:7px; width:70px; height:14px; border-radius:7px; background:#f1c6a7; transform-origin:0 7px}
    .hand{position:absolute; left:138px; top:3px; width:20px; height:20px; border-radius:50%; background:#f1c6a7}
    .stick{position:absolute; left:146px; top:10px; height:6px; width:240px; border-radius:3px; background:#7c4a12; transform-origin:0 50%;}
    .stick::after{content:""; position:absolute; right:0; top:1px; bottom:1px; width:12px; border-radius:3px; background:#caa472}

    .controls{position:sticky; bottom:12px; display:flex; gap:12px; align-items:center; justify-content:center; margin-top:6px}
    button{appearance:none; border:0; padding:12px 16px; border-radius:999px; font-weight:700; cursor:pointer; background:var(--accent); color:#fff; box-shadow:0 8px 22px rgba(37,99,235,.3)}
    button:active{transform:translateY(1px)}
    .hint{opacity:.75; font-size:14px}
  </style>
</head>
<body>
  <div class="classroom">
    <div class="poster"></div>
    <div class="clock"></div>
    <div class="window">
      <div class="cloud"></div>
      <div class="cloud"></div>
    </div>
    <div class="baseboard"></div>
    <div class="floor"></div>

    <div class="wrap">
      <!-- Prof -->
      <div class="teacher" id="teacher">
        <div class="shadow"></div>
        <div class="body"></div>
        <div class="head">
          <div class="brow left"></div>
          <div class="brow right"></div>
          <div class="eye left"></div>
          <div class="eye right"></div>
          <div class="mouth"></div>
        </div>
        <div class="arm" id="arm">
          <div class="upperarm"></div>
          <div class="forearm" id="forearm"></div>
          <div class="hand" id="hand"></div>
          <div class="stick" id="stick"></div>
        </div>
      </div>

      <!-- Tableau -->
      <div class="board-wrap">
        <div class="board" id="board">
          <div id="boardText"></div>
        </div>
      </div>
    </div>

    <div class="controls">
      <button id="prevBtn">‚óÄ Pr√©c√©dent</button>
      <button id="nextBtn">Suivant ‚ñ∂</button>
      <button id="autoBtn" aria-pressed="false">Lecture auto ‚èµ</button>
      <span class="hint">Le prof pointe dynamiquement le texte avec son b√¢ton. ‚úèÔ∏è</span>
    </div>
  </div>

  <script>
    // ===== Contenu personnalis√© =====
    const phrases = [
      "NOTE CE COURS A LA FIN ",
      "BIENVENU EN SANTE PUBLIQUE AVEC VOTRE PROF YACCCCCC LA RACAILLE",
      "Je vais te dire toutes les raisons pour que je revienne dans ta vie.",
      "Premi√®rement : parce que je suis le seul et l‚Äôunique.",
      "Deuxi√®mement : parce qu‚ÄôArouf Gangsta reste le plus beau de tous les rebeus.",
      "Troisi√®mement : parce que je t‚Äôaime, vraiment.",
      "Quatri√®mement : Ton sourire √©claire mes nuits comme une lune dans le d√©sert. üåô",
      "Cinqui√®mement : je vais m‚Äôam√©liorer dans tout, promis.",
      "Sixi√®mement : je jure de ne plus jamais recommencer ‚Äî le prof dit toujours la v√©rit√©.",
      "Septi√®mement : la Fronce avant tout üá´üá∑.",
      "Huiti√®mement : y‚Äôa pas de Sisi sans Yac.",
      "Neuvi√®mement : je suis trop d√©sol√© pour ce qui s‚Äôest pass√© ‚Äî parole de mec sinc√®re.",
      "Dixi√®mement : un rebeu qui saute d‚Äôun b√¢timent n‚Äôest pas forc√©ment celui qui la explos√©üí•"
      
      
    ];

    const boardText = document.getElementById('boardText');
    const nextBtn = document.getElementById('nextBtn');
    const prevBtn = document.getElementById('prevBtn');
    const autoBtn = document.getElementById('autoBtn');
    const hand = document.getElementById('hand');
    const arm = document.getElementById('arm');
    const stick = document.getElementById('stick');

    let index = 0;
    let typing = false;
    let autoplay = false;

    const spring = (stiff=0.12, damp=0.85) => {let v=0,x=0;return target=>{v+=(target-x)*stiff;v*=damp;x+=v;return x;};};
    const springArm = spring(0.18,0.78);
    const springStick = spring(0.22,0.80);
    const springLean = spring(0.06,0.85);

    function centerPoint(el){const r=el.getBoundingClientRect();return{x:r.left+r.width*0.52,y:r.top+r.height*0.28};}
    function handPoint(){const r=hand.getBoundingClientRect();return{x:r.left+r.width*0.2,y:r.top+r.height*0.5};}

    function spawnDust(node){
      const r=node.getBoundingClientRect();
      for(let i=0;i<2;i++){
        const d=document.createElement('div');d.className='dust';
        const x=r.left+Math.random()*10;const y=r.top+Math.random()*16;
        Object.assign(d.style,{left:x+'px',top:y+'px'});
        document.body.appendChild(d);
        const vx=(Math.random()*2-1)*0.6,vy=-Math.random()*1.2-.4;
        let life=26+Math.random()*20;
        (function anim(){if(life--<=0){d.remove();return;}d.style.transform=`translate(${vx*(26-life)*2}px,${vy*(26-life)*2}px)`;d.style.opacity=(life/30).toFixed(2);requestAnimationFrame(anim);})();}}
    
    function typeOnBoard(text){
      typing=true;
      return new Promise(resolve=>{
        boardText.textContent='';
        const cursor=document.createElement('span');cursor.className='cursor';boardText.appendChild(cursor);
        let k=0;const timer=setInterval(()=>{
          if(k<text.length){cursor.insertAdjacentText('beforebegin',text[k++]);spawnDust(cursor);}
          else{clearInterval(timer);cursor.remove();typing=false;resolve();}
        },24);
      });
    }

    async function show(i){
      index=(i+phrases.length)%phrases.length;
      await typeOnBoard(phrases[index]);
    }

    function step(dir){if(typing)return;show(index+dir);}

    nextBtn.addEventListener('click',()=>step(1));
    prevBtn.addEventListener('click',()=>step(-1));

    autoBtn.addEventListener('click',()=>{
      autoplay=!autoplay;autoBtn.setAttribute('aria-pressed',String(autoplay));
      autoBtn.textContent=autoplay?'Pause ‚è∏':'Lecture auto ‚èµ';
    });

    let lastTime=0;
    function animate(t){
      const dt=(t-lastTime)/1000;lastTime=t;
      const target=centerPoint(boardText);
      const h=handPoint();
      const angle=Math.atan2(target.y-h.y,target.x-h.x);
      const armAngle=springArm(angle*0.6);
      const stickAngle=springStick(angle);
      const lean=springLean(angle*0.08);
      arm.style.transform=`rotate(${armAngle}rad)`;
      stick.style.transform=`rotate(${stickAngle}rad)`;
      requestAnimationFrame(animate);
    }
    requestAnimationFrame(animate);

    show(0);
  </script>
</body>
</html>
